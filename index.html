<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy New Year</title>

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    body {
      background: #000;
      color: #fff;
      text-align: center;
      overflow-x: hidden;
    }

    /* Fireworks Background */
    #fireworksCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      background: black;
    }

    .container {
      width: 90%;
      max-width: 600px;
      margin: auto;
      padding: 60px 0;
    }

    h1 {
      font-size: 45px;
      font-weight: 700;
      color: #ffe066;
      text-shadow: 0 0 21px #ffcc00;
    }

    h2 {
      margin-top: 25px;
      font-size: 24px;
      font-weight: 600;
      color: #ffcd4d;
    }

    p {
      margin-top: 45px;
      font-size: 17px;
      line-height: 1.7;
      color: #f1f1f1;
    }

    .contact-box {
      margin-top: 50px;
      padding: 40px;
      background: rgba(255, 255, 255, 0.07);
      border: 1px solid rgba(255, 255, 255, 0.11);
      border-radius: 16px;
      backdrop-filter: blur(6px);
    }

    .contact-box h3 {
      font-size: 22px;
      margin-bottom: 15px;
      color: #ffd369;
    }

    /* Social Icons */
    .social-links {
      display: flex;
      justify-content: center;
      gap: 16px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .social-links a {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.12);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      color: white;
      transition: 0.3s ease;
      text-decoration: none;
    }

    .social-links a:hover {
      background: #ffe066;
      color: #000;
      transform: scale(1.15);
    }

    footer {
      margin-top: 40px;
      padding-bottom: 40px;
      font-size: 14px;
      opacity: 0.8;
    }

    footer a {
      color: #ffe066;
      text-decoration: none;
    }

    @media (max-width: 375px) {
      .newyear-heading {
        font-size: 37px;
      }
    }
    /* LOADING SCREEN */
    #loadingScreen{
      position:fixed;
      inset:0;
      background:#000;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      z-index:10;
      gap:20px;
    }

    .loader{
      width:50px;height:50px;
      border:5px solid #333;
      border-top:5px solid #ffe066;
      border-radius:50%;
      animation:spin 1s linear infinite;
    }

    @keyframes spin{
      0%{transform:rotate(0deg)}
      100%{transform:rotate(360deg)}
    }

#unlockBtn{
  padding:10px 26px;
  font-size:25px;
  background:#ffe066;
  color:#000;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
  display:none;
}
@media (max-width: 375px) {
      .wishText {
        font-size: 37px;
      }
    }
    .fade-out {
      opacity: 0;
      transition: 1s;
    }
  </style>
</head>

<body>

<!-- LOADING -->
<div id="loadingScreen">
  <div class="loader"></div>
  <button id="unlockBtn" onclick="unlockPage()">Unlock</button>
</div>

<canvas id="fireworksCanvas"></canvas>

<div class="container" id="mainContent">
  <h1 class="wishText">Happy New Year</h1>
  <h2 id="shopName"></h2>
  <p id="shopDesc"></p>

  <div class="contact-box">
    <h3>Contact Us</h3>
    <div class="social-links">

  <a id="callBtn" href="#" style="display:none">
    <i class="fa-solid fa-phone"></i>
  </a>

  <a id="whatsappBtn" href="#" target="_blank" style="display:none">
    <i class="fa-brands fa-whatsapp"></i>
  </a>

  <a id="locationBtn" href="#" target="_blank" style="display:none">
    <i class="fa-solid fa-location-dot"></i>
  </a>

  <a id="instaBtn" href="#" target="_blank" style="display:none">
    <i class="fa-brands fa-instagram"></i>
  </a>

</div>
  </div>

   <footer style="text-align:center; padding:12px 8px; font-size:16px;">
  
  <span style="color:#ffffff;">
    © Since 2018
  </span>

  &nbsp;|&nbsp;

  <span style="color:#49B618; font-weight:780;">
    paper 'n' print
  </span>

  &nbsp;|&nbsp;

  <a 
    href="https://wa.me/918951337609?text=What's%20the%20rate%20for%20the%20digital%20e%20cards"
    target="_blank"
    style="color:#ffffff; text-decoration:none; font-weight:500;"
	 <i class="fa-brands fa-whatsapp"></i>
  </a>

</footer>

  </div>


<audio id="bgSound" src="assets/crackers.mp3" loop></audio>

<script>
  // SHOW UNLOCK AFTER 2 SECONDS
  setTimeout(()=>{
    document.querySelector(".loader").style.display="none";
    document.getElementById("unlockBtn").style.display="block";
  },2000);

  function unlockPage(){
    document.getElementById("loadingScreen").style.display="none";
    document.getElementById("mainContent").style.display="block";
    document.getElementById("bgSound").play();
  }

  // FIREWORKS
  const canvas=document.getElementById("fireworksCanvas");
  const ctx=canvas.getContext("2d");
  canvas.width=innerWidth;
  canvas.height=innerHeight;

  function random(min,max){return Math.random()*(max-min)+min}

  class Firework{
    constructor(){
      this.x=random(0,canvas.width);
      this.y=canvas.height;
      this.target=random(50,canvas.height/2);
      this.speed=random(3,6);
      this.boom=false;
      this.particles=[];
    }
    update(){
      if(!this.boom){
        this.y-=this.speed;
        if(this.y<=this.target){
          this.boom=true;
          for(let i=0;i<40;i++)this.particles.push(new Particle(this.x,this.y));
        }
      }
    }
    draw(){
      if(!this.boom){
        ctx.fillStyle="#fff";
        ctx.fillRect(this.x,this.y,3,6);
      }
    }
  }

  class Particle{
    constructor(x,y){
      this.x=x;this.y=y;
      this.vx=random(-3,3);
      this.vy=random(-3,3);
      this.alpha=1;
    }
    update(){
      this.x+=this.vx;
      this.y+=this.vy;
      this.alpha-=0.02;
    }
    draw(){
      ctx.fillStyle=`rgba(255,200,80,${this.alpha})`;
      ctx.beginPath();
      ctx.arc(this.x,this.y,3,0,Math.PI*2);
      ctx.fill();
    }
  }

  let fireworks=[];
  function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if(Math.random()<0.05)fireworks.push(new Firework());
    fireworks.forEach((f,i)=>{
      f.update();f.draw();
      if(f.boom){
        f.particles.forEach((p,j)=>{
          p.update();p.draw();
          if(p.alpha<=0)f.particles.splice(j,1);
        });
        if(f.particles.length===0)fireworks.splice(i,1);
      }
    });
    requestAnimationFrame(animate);
  }
  animate();
</script>

<script>
  const params = new URLSearchParams(window.location.search);
  const shopId = params.get("id");

  fetch("https://script.google.com/macros/s/AKfycbzRFW_7pAQsfmSMPPloWVwO5iUBd6VzfXdvCpSuR6Xk8CtsDFwF8nJnFpEXW0PGoUh6/exec?id=" + shopId)
    .then(res => res.json())
    .then(data => {

      document.getElementById("shopName").innerText =
        `— ${data.shop_name} —`;

      document.getElementById("shopDesc").innerText =
        data.description;

      if (data.phone) {
        const call = document.getElementById("callBtn");
        call.href = "tel:" + data.phone;
        call.style.display = "flex";
      }

      if (data.whatsapp) {
        const wa = document.getElementById("whatsappBtn");
        wa.href = "https://wa.me/" + data.whatsapp;
        wa.style.display = "flex";
      }

      if (data.location) {
        const loc = document.getElementById("locationBtn");
        loc.href = data.location;
        loc.style.display = "flex";
      }

      if (data.instagram) {
        const insta = document.getElementById("instaBtn");
        insta.href = data.instagram;
        insta.style.display = "flex";
      }

    })
    .catch(() => alert("Invalid shop link"));
</script>

</body>
</html>
